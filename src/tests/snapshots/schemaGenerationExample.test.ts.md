# Snapshot report for `tests/schemaGenerationExample.test.ts`

The actual snapshot is saved in `schemaGenerationExample.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## simple generation example

> Snapshot 1

    `/*␊
    ** DON'T EDIT THIS FILE **␊
    It's been generated by Zapatos, and is liable to be overwritten␊
    ␊
    Zapatos: https://jawj.github.io/zapatos/␊
    Copyright (C) 2020 - 2022 George MacKerron␊
    Released under the MIT licence: see LICENCE file␊
    */␊
    ␊
    ␊
    import type * as db from 'zapatos/db';␊
    ␊
    // got a type error on schemaVersionCanary below? update by running \`npx zapatos\`␊
    export interface schemaVersionCanary extends db.SchemaVersionCanary { version: 104 }␊
    ␊
    ␊
    /* === schema: public === */␊
    ␊
    /* --- enums --- */␊
    /* (none) */␊
    ␊
    /* --- tables --- */␊
    ␊
    /**␊
     * **bar**␊
     * - Table in database␊
     */␊
    export interface bar {␊
      Table: 'bar';␊
      Selectable: {␊
        /**␊
        * **bar.bar_id**␊
        * - \`uuid\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        bar_id: string;␊
        /**␊
        * **bar.num**␊
        * - \`int4\` in database␊
        * - Nullable, no default␊
        */␊
        num: number | null;␊
      };␊
      JSONSelectable: {␊
        /**␊
        * **bar.bar_id**␊
        * - \`uuid\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        bar_id: string;␊
        /**␊
        * **bar.num**␊
        * - \`int4\` in database␊
        * - Nullable, no default␊
        */␊
        num: number | null;␊
      };␊
      Whereable: {␊
        /**␊
        * **bar.bar_id**␊
        * - \`uuid\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        bar_id?: string | db.Parameter<string> | db.SQLFragment | db.ParentColumn | db.SQLFragment<any, string | db.Parameter<string> | db.SQLFragment | db.ParentColumn>;␊
        /**␊
        * **bar.num**␊
        * - \`int4\` in database␊
        * - Nullable, no default␊
        */␊
        num?: number | db.Parameter<number> | db.SQLFragment | db.ParentColumn | db.SQLFragment<any, number | db.Parameter<number> | db.SQLFragment | db.ParentColumn>;␊
      };␊
      Insertable: {␊
        /**␊
        * **bar.bar_id**␊
        * - \`uuid\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        bar_id: string | db.Parameter<string> | db.SQLFragment;␊
        /**␊
        * **bar.num**␊
        * - \`int4\` in database␊
        * - Nullable, no default␊
        */␊
        num?: number | db.Parameter<number> | null | db.DefaultType | db.SQLFragment;␊
      };␊
      Updatable: {␊
        /**␊
        * **bar.bar_id**␊
        * - \`uuid\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        bar_id?: string | db.Parameter<string> | db.SQLFragment | db.SQLFragment<any, string | db.Parameter<string> | db.SQLFragment>;␊
        /**␊
        * **bar.num**␊
        * - \`int4\` in database␊
        * - Nullable, no default␊
        */␊
        num?: number | db.Parameter<number> | null | db.DefaultType | db.SQLFragment | db.SQLFragment<any, number | db.Parameter<number> | null | db.DefaultType | db.SQLFragment>;␊
      };␊
      UniqueIndex: 'bar_pkey';␊
      Column: keyof Selectable;␊
      // OnlyCols<T extends readonly Column[]> = Pick<Selectable, T[number]>;␊
      // SQLExpression: Table | db.ColumnNames<Updatable | (keyof Updatable)[]> | db.ColumnValues<Updatable> | Whereable | Column | db.ParentColumn | db.GenericSQLExpression;␊
      // SQL: SQLExpression | SQLExpression[];␊
    }␊
    ␊
    /**␊
     * **foo**␊
     * - Table in database␊
     */␊
    export interface foo {␊
      Table: 'foo';␊
      Selectable: {␊
        /**␊
        * **foo.id**␊
        * - \`int4\` in database␊
        * - \`NOT NULL\`, default: \`nextval('foo_id_seq'::regclass)\`␊
        */␊
        id: number;␊
        /**␊
        * **foo.name**␊
        * - \`text\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        name: string;␊
      };␊
      JSONSelectable: {␊
        /**␊
        * **foo.id**␊
        * - \`int4\` in database␊
        * - \`NOT NULL\`, default: \`nextval('foo_id_seq'::regclass)\`␊
        */␊
        id: number;␊
        /**␊
        * **foo.name**␊
        * - \`text\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        name: string;␊
      };␊
      Whereable: {␊
        /**␊
        * **foo.id**␊
        * - \`int4\` in database␊
        * - \`NOT NULL\`, default: \`nextval('foo_id_seq'::regclass)\`␊
        */␊
        id?: number | db.Parameter<number> | db.SQLFragment | db.ParentColumn | db.SQLFragment<any, number | db.Parameter<number> | db.SQLFragment | db.ParentColumn>;␊
        /**␊
        * **foo.name**␊
        * - \`text\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        name?: string | db.Parameter<string> | db.SQLFragment | db.ParentColumn | db.SQLFragment<any, string | db.Parameter<string> | db.SQLFragment | db.ParentColumn>;␊
      };␊
      Insertable: {␊
        /**␊
        * **foo.id**␊
        * - \`int4\` in database␊
        * - \`NOT NULL\`, default: \`nextval('foo_id_seq'::regclass)\`␊
        */␊
        id?: number | db.Parameter<number> | db.DefaultType | db.SQLFragment;␊
        /**␊
        * **foo.name**␊
        * - \`text\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        name: string | db.Parameter<string> | db.SQLFragment;␊
      };␊
      Updatable: {␊
        /**␊
        * **foo.id**␊
        * - \`int4\` in database␊
        * - \`NOT NULL\`, default: \`nextval('foo_id_seq'::regclass)\`␊
        */␊
        id?: number | db.Parameter<number> | db.DefaultType | db.SQLFragment | db.SQLFragment<any, number | db.Parameter<number> | db.DefaultType | db.SQLFragment>;␊
        /**␊
        * **foo.name**␊
        * - \`text\` in database␊
        * - \`NOT NULL\`, no default␊
        */␊
        name?: string | db.Parameter<string> | db.SQLFragment | db.SQLFragment<any, string | db.Parameter<string> | db.SQLFragment>;␊
      };␊
      UniqueIndex: 'foo_pkey';␊
      Column: keyof Selectable;␊
      // OnlyCols<T extends readonly Column[]> = Pick<Selectable, T[number]>;␊
      // SQLExpression: Table | db.ColumnNames<Updatable | (keyof Updatable)[]> | db.ColumnValues<Updatable> | Whereable | Column | db.ParentColumn | db.GenericSQLExpression;␊
      // SQL: SQLExpression | SQLExpression[];␊
    }␊
    ␊
    /* --- aggregate types --- */␊
    ␊
    export interface Schema_public {  ␊
      Table: bar["Table"] | foo["Table"];␊
      Selectable: bar["Selectable"] | foo["Selectable"];␊
      JSONSelectable: bar["JSONSelectable"] | foo["JSONSelectable"];␊
      Whereable: bar["Whereable"] | foo["Whereable"];␊
      Insertable: bar["Insertable"] | foo["Insertable"];␊
      Updatable: bar["Updatable"] | foo["Updatable"];␊
      UniqueIndex: bar["UniqueIndex"] | foo["UniqueIndex"];␊
      Column: bar["Column"] | foo["Column"];␊
      ␊
      AllBaseTables: [bar["Table"], foo["Table"]];␊
      AllForeignTables: [];␊
      AllViews: [];␊
      AllMaterializedViews: [];␊
      AllTablesAndViews: [bar["Table"], foo["Table"]];␊
    }␊
    ␊
    ␊
    ␊
    /* === global aggregate types === */␊
    ␊
    export type Schema = 'public';␊
    export type Table = Schema_public["Table"];␊
    export type Selectable = Schema_public["Selectable"];␊
    export type JSONSelectable = Schema_public["JSONSelectable"];␊
    export type Whereable = Schema_public["Whereable"];␊
    export type Insertable = Schema_public["Insertable"];␊
    export type Updatable = Schema_public["Updatable"];␊
    export type UniqueIndex = Schema_public["UniqueIndex"];␊
    export type Column = Schema_public["Column"];␊
    ␊
    export type AllSchemas = ['public'];␊
    export type AllBaseTables = [...Schema_public["AllBaseTables"]];␊
    export type AllForeignTables = [...Schema_public["AllForeignTables"]];␊
    export type AllViews = [...Schema_public["AllViews"]];␊
    export type AllMaterializedViews = [...Schema_public["AllMaterializedViews"]];␊
    export type AllTablesAndViews = [...Schema_public["AllTablesAndViews"]];␊
    ␊
    ␊
    /* === lookups === */␊
    ␊
    export type SelectableForTable<T extends Table> = {␊
      "bar": bar["Selectable"];␊
      "foo": foo["Selectable"];␊
    }[T];␊
    ␊
    export type JSONSelectableForTable<T extends Table> = {␊
      "bar": bar["JSONSelectable"];␊
      "foo": foo["JSONSelectable"];␊
    }[T];␊
    ␊
    export type WhereableForTable<T extends Table> = {␊
      "bar": bar["Whereable"];␊
      "foo": foo["Whereable"];␊
    }[T];␊
    ␊
    export type InsertableForTable<T extends Table> = {␊
      "bar": bar["Insertable"];␊
      "foo": foo["Insertable"];␊
    }[T];␊
    ␊
    export type UpdatableForTable<T extends Table> = {␊
      "bar": bar["Updatable"];␊
      "foo": foo["Updatable"];␊
    }[T];␊
    ␊
    export type UniqueIndexForTable<T extends Table> = {␊
      "bar": bar["UniqueIndex"];␊
      "foo": foo["UniqueIndex"];␊
    }[T];␊
    ␊
    export type ColumnForTable<T extends Table> = {␊
      "bar": bar["Column"];␊
      "foo": foo["Column"];␊
    }[T];␊
    ␊
    `
